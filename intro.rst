Introduction
============

Poker is a popular card game with a stochastic nature and imperfect information aspect that has not only captured mainstream attention as a leading mind sport but also served as a benchmark of artificial intelligence (AI) research, namely in the development of imperfect information AI agents.

Pioneering breakthroughs in imperfect information game-solving algorithms have often been accompanied by their applications in state-of-the-art poker AI agents as seen in the example of Rhode Island hold 'em (`Gilpin and Sandholm <https://aaai.org/papers/01684-ISD05-008-optimal-rhode-island-hold-em-poker/>`_), heads-up (2-player) fixed-limit Texas hold 'em (`Cepheus <https://doi.org/10.1145/3131284>`_), heads-up no-limit Texas hold 'em (`DeepStack <https://doi.org/10.1126/science.aam6960>`_ and `Libratus <https://doi.org/10.1126/science.aao1733>`_), and 6-max (6-player) no-limit Texas hold 'em (`Pluribus <https://doi.org/10.1126/science.aay2400>`_). Successive state-of-the-art algorithms were shown to solve games of progressively larger game tree sizes.

While impressive, the applications of these algorithms were mostly limited to the Texas hold 'em variant which ignores the vast diversity of poker. Indeed, there exists countless variants of poker that introduce different rules and actions not present in Texas hold 'em that can serve as new challenges in the development of imperfect information AI agents (as per the 2023 WSOP `Live Action <_static/2023-WSOP-Live-Action-Rules.pdf>`_ and `Tournament Rules <_static/2023-WSOP-Tournament-Rules.pdf>`_). For instance, Omaha variants involve four hole cards per player instead of simply two, which increases the range of possible holdings of opponents, further increasing the game tree size. Another popular variant, lowball draw, introduces shifting hidden information depending on the discards and draws unlike Texas hold 'em where the players' hole cards remain unchanged throughout the hand.

While it is true that Texas hold 'em is the most prominent variant of poker, as it is the variant of choice in the World Series of Poker (WSOP) Main Event, the largest poker tournament in the world, there is a substantial interest in the market and the industry on other poker variants. For instance, of the 94 in-person bracelet events in the `2023 WSOP Schedule <_static/2023-WSOP-Full-Schedule.pdf>`_, only around 51 events (54.26%) play no-limit Texas hold 'em exclusively. This diversity of the game differs from other popular board games like chess, shogi, or go which has a universally accepted "standard" variant.

In addition, various initial state assumptions made by the state-of-the-art poker AI agents make it completely inapplicable to real-life gameplays where the assumptions are rarely true. All the recent breakthroughs in poker AI agents deal with uniform starting stack sizes, where every player has an identical number of chips at the beginning of the game, in addition to just one configuration of antes and forced bets like blinds or straddles. Not to mention, their solutions are only meant to be used in either heads-up or 6-max settings. These assumptions, of course, are unrealistic, and taking these variations into account vastly increases the game tree size. It is therefore uncertain if existing techniques for solving imperfect information games can handle game trees of such size. The implications of the existence of such an algorithm would be immense, given that the vast number of real-world problems such as stock markets, auctions, and diplomacy are examples of imperfect information games like poker.

The lack of exploration in the aforementioned areas of computer poker can partly be explained by the lack of reliable open-source multivariant poker tooling. Our recent work on `PokerKit <https://doi.org/10.1109/TG.2023.3325637>`_ aimed to provide a robust implementation of poker simulation and hand evaluation suite to address this absence and has since established itself as a popular tool in computational poker.

However, our previous efforts in the digitalization of poker were only partially complete, as we provided no means to record poker hands for persistent storage and subsequent analysis, a crucial component in the training and evaluation of AI agents. This is partly because there does not exist a standardized format for recording poker games that is not only human-friendly but also easily parsable by computer software akin to the `portable game notation (PGN) <_static/PGN_Reference.txt>`_ for chess or `smart game format (SGF) <https://www.red-bean.com/sgf/>`_ for go.

This website specifies a novel open-source Poker Hand History (PHH) file format designed to provide a consistent method to annotate poker hands across different variants in addition to capturing other details of the game including but not limited to the venue, players, and time control information that can aid in domains such as poker AI agent development, historical analysis, and data referencing.

In the next section, we provide some motivational examples that showcase the versatility of the PHH notation. This is followed by an exploration of the related works in the literature that introduce alternatives to our proposal with which we later run benchmarks for comparison purposes. Then, we provide the detailed specification of the PHH format, listing the required and optional fields used to comprehensively describe poker hands in addition to various recommendations in file formatting, style guides, and parser implementation. Finally, for demonstrative purposes, we provide sample usages of our open-source Python PHH reader and writer which uses PokerKit as the simulation backend.

In `our dataset contribution <https://github.com/uoftcprg/phh-dataset>`_, also hosted on `Zenodo <https://zenodo.org/doi/10.5281/zenodo.10796885>`_, sample poker hands are provided in the PHH file format.
